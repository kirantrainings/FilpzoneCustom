angular.module("components",[]),angular.module("components").directive("nbAlphabets",[function(){return{restrict:"A",link:function(e,t,r){t.bind("keypress",function(e){e.keyCode>=65&&e.keyCode<=90||e.keyCode>=97&&e.keyCode<=122||e.preventDefault()})}}}]),angular.module("components").directive("nbCheckUser",["authenticateSvc",function(e){return{restrict:"A",require:"ngModel",link:function(t,r,n,o){var a=o;r.bind("blur",function(r,n){var o=e.checkUserExists(this.value);o?a.$setValidity("nbCheckUser",!1):a.$setValidity("nbCheckUser",!0),t.$apply()})}}}]),angular.module("components").directive("nbDatePicker",[function(){return{restrict:"A",link:function(e,t,r){var n={};r.mindate&&(n.minDate=r.mindate),r.maxdate&&(n.maxDate=r.maxdate),t.datepicker(n)}}}]),angular.module("components").directive("nbHeaderProperty",[function(){return{templateUrl:"app/templates/header.html",restrict:"ACE",compile:function(e,t){return console.log(e),{pre:function(e,t,r){},post:function(e,t,r){}}}}}]),angular.module("components").directive("nbLogo",[function(){return{templateUrl:"app/templates/logo.html",scope:{logo:"@"}}}]),angular.module("components").directive("nbNumbers",[function(){return{restrict:"A",link:function(e,t,r){t.bind("keypress",function(e){e.keyCode>=48&&e.keyCode<=57||e.preventDefault()})}}}]),angular.module("components").directive("nbRegister",[function(){return{templateUrl:"app/templates/registerDir.html",transclude:!0}}]),angular.module("components").directive("nbTwoWay",[function(){return{templateUrl:"app/templates/twoway.html",scope:{headerName:"@"}}}]),angular.module("authenticate",[]),angular.module("authenticate").service("authenticateSvc",[function(){var e=[{username:"kiran",password:"kiran",firstName:"Kiran",lastName:"PVS",role:"Admin"},{username:"Aishwarya",password:"Aishwarya",firstName:"Aishwarya",lastName:"B",role:"consumer"},{username:"chiranjeevi",password:"chiranjeevi",firstName:"chiranjeevi",lastName:"K",role:"Seller"}],t={isLoggedIn:!1,firstName:"",lastName:"",role:""},r=function(){t.isLoggedIn=!1,t.firstName="",t.lastName="",t.role=""},n=function(n){var o=_.find(e,n);o?(t.isLoggedIn=!0,t.firstName=o.firstName,t.lastName=o.lastName,t.role=o.role):r()};this.login=function(e){return n(e),t},this.logout=function(){return r(),t},this.getUserDetails=function(){return t},this.register=function(e){},this.checkUserExists=function(t){return _.find(e,{username:t})}}]),angular.module("login",[]),angular.module("login").controller("loginCtrl",["$scope","authenticateSvc","$state","$rootScope",function(e,t,r,n){e.user={},e.isValidUser=!0,e.loginUser=function(){var o=t.login(e.user);e.isValidUser=o.isLoggedIn,e.isValidUser&&(n.$broadcast("USER_LOGGEDIN"),r.go("home"))}}]),angular.module("main",[]),angular.module("main").controller("mainCtrl",["$scope","authenticateSvc","$rootScope","$state","productSvc","$translate",function(e,t,r,n,o,a){e.userDetails=t.getUserDetails(),e.itemCount=0,e.selectedLanguage={},r.$on("USER_LOGGEDIN",function(r,n){e.userDetails=t.getUserDetails()}),r.$on("PRODUCT_ADDED",function(t,r){e.itemCount=o.getProductsForCheckout().length}),e.countries=[{countryName:"India",code:"en"},{countryName:"German",code:"de"}],e.changeLanguage=function(e){a.use(e)},e.logout=function(){e.userDetails=t.logout(),n.go("login")},e.companyLogo="/images/volks.jpg"}]),angular.module("products",[]),angular.module("products").controller("productCtrl",["$scope","productSvc","$rootScope",function(e,t,r){e.pager={currentPage:1,showBoundaryLinks:!0,totalItems:30,numberOfPages:3,maxSize:3},e.sortCriteria="description",t.getProducts().then(function(t){e.totalProducts=t,e.products=angular.copy(t),e.pager.totalItems=e.totalProducts.length,e.pageChanged()}).catch(function(t){e.error=t}).finally(function(e){console.log("I am executed finally")}),e.selectProduct=function(e){t.addProductForCheckOut(e),r.$broadcast("PRODUCT_ADDED",{product:e})},e.changeCriteria=function(){"description"==e.sortCriteria?e.sortCriteria="-description":e.sortCriteria="description"},e.setPage=function(t){e.currentPage=t},e.pageChanged=function(){var t=e.pager.currentPage,r=10*(t-1)+1,n=10*t;e.products=e.totalProducts.slice(r,n)}}]),angular.module("products").service("productSvc",["$q","$http",function(e,t){var r=[];this.getProducts=function(){var n=e.defer();return r.length>0?n.resolve(r):t.get("app/data/products.json").then(function(e){r=e.data.products,n.resolve(r)}).catch(function(e){n.reject("Error Occured")}),n.promise},this.getProductsForCheckout=function(){return r},this.addProductForCheckOut=function(e){_.contains(r,e)||r.push(e)}}]),angular.module("register",[]),angular.module("register").config(function(){console.log("Hey I am the register Module")}),angular.module("register").controller("registerCtrl",["$scope",function(e){e.registerUser={},e.register=function(){e.selectedCountry&&(e.registerUser.country=e.selectedCountry.code),console.log(e.registerUser)},e.countries=[{name:"India",code:"IN",phonecode:"+91"},{name:"United States",code:"US",phonecode:"+1"}];var t=[{stateName:"Telangana",stateCode:"TG",countryCode:"IN"},{stateName:"New York",stateCode:"NY",countryCode:"US"},{stateName:"Andhra Pradesh",stateCode:"AP",countryCode:"IN"},{stateName:"Las Vegas",stateCode:"LS",countryCode:"US"}];e.phonePattern="/^d+$/",e.loadStates=function(){"US"==e.selectedCountry.code?e.phonePattern="^(([0-9]{3}) |[0-9]{3}-)[0-9]{3}-[0-9]{4}$":e.phonePattern="/^d+$/",e.states=[],angular.forEach(t,function(t){t.countryCode==e.selectedCountry.code&&e.states.push(t)})},e.groupedStates=t,e.checkFields=function(){e.registerUser.firstName&&e.registerUser.lastName&&e.registerUser.age&&e.registerUser.gender&&e.registerUser.terms?e.enableButton=!0:e.enableButton=!1},e.config={maxDate:0}}]),angular.module("flipzone",["ui.router","login","authenticate","main","products","register","ui.bootstrap","pascalprecht.translate","components"]),angular.module("flipzone").config(function(e,t,r){var n={templateUrl:"app/templates/home.html",url:"home"},o={templateUrl:"app/templates/login.html",url:"login",controller:"loginCtrl"},a={templateUrl:"app/templates/register.html",url:"register"},i={templateUrl:"app/templates/products.html",url:"products",controller:"productCtrl"};e.state("home",n),e.state("login",o),e.state("register",a),e.state("products",i),r.translations("en",{TITLE:"Hello",FOO:"This is a paragraph.",BUTTON_LANG_EN:"english",BUTTON_LANG_DE:"german",LOGIN:"Login",LOGOUT:"Logout",REGISTER:"Register"}),r.translations("de",{TITLE:"Hallo",FOO:"Dies ist ein Paragraph.",BUTTON_LANG_EN:"englisch",BUTTON_LANG_DE:"deutsch",LOGOUT:"Ausloggen",LOGIN:"Anmeldung",REGISTER:"Neu registrieren"}),r.preferredLanguage("en")});